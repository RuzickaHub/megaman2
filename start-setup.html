<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nastaven√≠ Dokumentace</title>
    <style>
        body { font-family: system-ui, sans-serif; background: #f8f9fa; color: #212529; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { background: #fff; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); width: 100%; max-width: 400px; }
        h1 { margin-bottom: 1.5rem; font-size: 1.5rem; text-align: center; }
        label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
        input[type="text"] { width: 100%; padding: 0.75rem; margin-bottom: 1rem; border: 1px solid #dee2e6; border-radius: 0.375rem; box-sizing: border-box; }
        button { width: 100%; padding: 0.75rem; background: #0d6efd; color: white; border: none; border-radius: 0.375rem; cursor: pointer; font-size: 1rem; transition: background-color 0.2s; }
        button:hover { background: #0b5ed7; }
        p.note { margin-top: 1.5rem; font-size: 0.875rem; color: #6c757d; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ†Ô∏è Nastaven√≠ Dokumentace</h1>
        <p class="note">Zadejte pros√≠m detaily va≈°eho GitHub repozit√°≈ôe pro spu≈°tƒõn√≠ dokumentace.</p>
        <form id="configForm">
            <div>
                <label for="siteName">N√°zev Webov√© Str√°nky (SITE_NAME)</label>
                <input type="text" id="siteName" value="Mega Docs" required>
            </div>
            <div>
                <label for="owner">Vlastn√≠k (OWNER)</label>
                <input type="text" id="owner" placeholder="nap≈ô. RuzickaHub" required>
            </div>
            <div>
                <label for="repo">Repozit√°≈ô (REPO)</label>
                <input type="text" id="repo" placeholder="nap≈ô. megaman" required>
            </div>
            <div>
                <label for="branch">Vƒõtev (BRANCH)</label>
                <input type="text" id="branch" value="main" required>
            </div>
            <div>
                <label for="rootPath">Ko≈ôenov√Ω Adres√°≈ô (ROOT_PATH) (Voliteln√©)</label>
                <input type="text" id="rootPath" placeholder="Ponechte pr√°zdn√©, pokud je v ko≈ôenu" value="">
            </div>
            <button type="submit">Ulo≈æit a Pokraƒçovat</button>
        </form>
        <p id="message" style="color: green; text-align: center; margin-top: 1rem;"></p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('configForm');
            const messageEl = document.getElementById('message');
            const ownerInput = document.getElementById('owner');
            const repoInput = document.getElementById('repo');

            // P≈ôedvyplnƒõn√≠ z localStorage, pokud ji≈æ existuj√≠
            document.getElementById('siteName').value = localStorage.getItem('SITE_NAME') || 'Mega Docs';
            ownerInput.value = localStorage.getItem('OWNER') || '';
            repoInput.value = localStorage.getItem('REPO') || '';
            document.getElementById('branch').value = localStorage.getItem('BRANCH') || 'main';
            document.getElementById('rootPath').value = localStorage.getItem('ROOT_PATH') || '';

            // --- OPTIMALIZACE: Automatick√© zaost≈ôen√≠ ---
            if (!ownerInput.value) {
                ownerInput.focus();
            } else if (!repoInput.value) {
                repoInput.focus();
            }
            // -------------------------------------------

            form.addEventListener('submit', (e) => {
                e.preventDefault();

                const siteName = document.getElementById('siteName').value.trim();
                const owner = ownerInput.value.trim();
                const repo = repoInput.value.trim();
                let branch = document.getElementById('branch').value.trim() || 'main';
                let rootPath = document.getElementById('rootPath').value.trim();
                
                // Ulo≈æen√≠ promƒõnn√Ωch do localStorage
                localStorage.setItem('SITE_NAME', siteName);
                localStorage.setItem('OWNER', owner);
                localStorage.setItem('REPO', repo);
                localStorage.setItem('BRANCH', branch);
                localStorage.setItem('ROOT_PATH', rootPath);

                messageEl.textContent = 'Konfigurace ulo≈æena. Naƒç√≠t√°m dokumentaci...';
                
                // P≈ôesmƒõrov√°n√≠ na index.html
                window.location.href = 'index.html'; 
            });
        });
    </script>
</body>
</html>
