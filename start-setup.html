<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nastaven√≠ Dokumentace</title>
    <style>
        body { font-family: system-ui, sans-serif; background: #f8f9fa; color: #212529; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { background: #fff; padding: 2rem; border-radius: 0.5rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); width: 100%; max-width: 400px; }
        h1 { margin-bottom: 1.5rem; font-size: 1.5rem; text-align: center; }
        label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
        input[type="text"], select { width: 100%; padding: 0.75rem; margin-bottom: 1rem; border: 1px solid #dee2e6; border-radius: 0.375rem; box-sizing: border-box; }
        button { width: 100%; padding: 0.75rem; background: #0d6efd; color: white; border: none; border-radius: 0.375rem; cursor: pointer; font-size: 1rem; transition: background-color 0.2s; margin-top: 0.5rem; }
        button:hover { background: #0b5ed7; }
        button.secondary { background: #6c757d; margin-bottom: 1rem; }
        button.secondary:hover { background: #5a6268; }
        p.note { margin-top: 1.5rem; font-size: 0.875rem; color: #6c757d; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ†Ô∏è Nastaven√≠ Dokumentace</h1>
        <form id="configForm">
            <div>
                <label for="siteName">N√°zev Webov√© Str√°nky (SITE_NAME)</label>
                <input type="text" id="siteName" value="Mega Docs" required>
            </div>
            <div>
                <label for="owner">Vlastn√≠k (OWNER)</label>
                <input type="text" id="owner" placeholder="nap≈ô. RuzickaHub" required>
            </div>
            <div>
                <label for="repo">Repozit√°≈ô (REPO)</label>
                <input type="text" id="repo" placeholder="nap≈ô. megaman" required>
            </div>
            <div>
                <label for="branch">Vƒõtev (BRANCH)</label>
                <input type="text" id="branch" value="main" required>
            </div>
            <div>
                <label for="rootPath">Ko≈ôenov√Ω Adres√°≈ô (ROOT_PATH)</label>
                <input type="text" id="rootPath" placeholder="nap≈ô. docs (Ponechte pr√°zdn√© pro ko≈ôen)" value="">
            </div>
            <div>
                <label for="themeStyle">Preferovan√Ω Styl T√©ma</label>
                <select id="themeStyle" required>
                    <option value="Classic">Classic (Modr√°)</option>
                    <option value="Modern">Modern (Jasnƒõ modr√°, Zaoblen√°)</option>
                    <option value="Terminal">Terminal (Monospace, Tmav√Ω)</option>
                    <option value="Corporate">Corporate (Serif, Fialov√°)</option>
                    <option value="Retro">Retro (≈Ωlut√°, Kontrastn√≠)</option>
                </select>
            </div>
            <button type="submit">Ulo≈æit a Pokraƒçovat</button>
        </form>
        
        <p class="note" style="margin-top: 1rem;">
            ‚ö†Ô∏è **Nejd≈ô√≠ve mus√≠te m√≠t vytvo≈ôeny soubory**.
        </p>
        <button id="createSamples" class="secondary">Vytvo≈ôit uk√°zkov√© MD soubory</button>
        
        <p id="message" style="color: green; text-align: center; margin-top: 1rem;"></p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('configForm');
            const messageEl = document.getElementById('message');
            const ownerInput = document.getElementById('owner');
            const repoInput = document.getElementById('repo');

            // P≈ôedvyplnƒõn√≠ z localStorage
            document.getElementById('siteName').value = localStorage.getItem('SITE_NAME') || 'Mega Docs';
            ownerInput.value = localStorage.getItem('OWNER') || '';
            repoInput.value = localStorage.getItem('REPO') || '';
            document.getElementById('branch').value = localStorage.getItem('BRANCH') || 'main';
            document.getElementById('rootPath').value = localStorage.getItem('ROOT_PATH') || '';
            document.getElementById('themeStyle').value = localStorage.getItem('THEME_STYLE') || 'Classic'; // Nov√©

            // Automatick√© zaost≈ôen√≠
            if (!ownerInput.value) {
                ownerInput.focus();
            } else if (!repoInput.value) {
                repoInput.focus();
            }

            form.addEventListener('submit', (e) => {
                e.preventDefault();

                const siteName = document.getElementById('siteName').value.trim();
                const owner = ownerInput.value.trim();
                const repo = repoInput.value.trim();
                let branch = document.getElementById('branch').value.trim() || 'main';
                let rootPath = document.getElementById('rootPath').value.trim();
                let themeStyle = document.getElementById('themeStyle').value.trim(); // Nov√©
                
                // Ulo≈æen√≠ promƒõnn√Ωch do localStorage
                localStorage.setItem('SITE_NAME', siteName);
                localStorage.setItem('OWNER', owner);
                localStorage.setItem('REPO', repo);
                localStorage.setItem('BRANCH', branch);
                localStorage.setItem('ROOT_PATH', rootPath);
                localStorage.setItem('THEME_STYLE', themeStyle); // Nov√©

                messageEl.textContent = 'Konfigurace ulo≈æena. Naƒç√≠t√°m dokumentaci...';
                
                window.location.href = 'index.html'; 
            });
            
            // --- LOGIKA VYTVA≈òEN√ç SAMPLE MD SOUBOR≈Æ ---
            document.getElementById('createSamples').addEventListener('click', () => {
                const owner = ownerInput.value.trim();
                const repo = repoInput.value.trim();
                const rootPath = document.getElementById('rootPath').value.trim();
                
                if (!owner || !repo) {
                    alert('Pros√≠m, nejd≈ô√≠ve vypl≈àte Vlastn√≠ka a Repozit√°≈ô!');
                    return;
                }
                
                const filePath = rootPath ? `${rootPath}/` : '';
                
                // Toto je simulace/n√°vod, jak by soubory mƒõly vypadat
                const sampleFilesGuide = `
## Pr≈Øvodce vytvo≈ôen√≠m uk√°zkov√Ωch soubor≈Ø
Tyto soubory jsou vy≈æadov√°ny pro spr√°vn√Ω start:

1.  **${filePath}INSTALL.md** (Hlavn√≠ str√°nka)
2.  **${filePath}README.md**
3.  **${filePath}docs/START.md** (P≈ô√≠klad podslo≈æky)

### Obsah pro ${filePath}INSTALL.md
\`\`\`markdown
# üöÄ Instalace

V√≠tejte v Mega Docs! Pro spu≈°tƒõn√≠ postupujte podle tƒõchto krok≈Ø.

\`\`\`

### Obsah pro ${filePath}README.md
\`\`\`markdown
# √övod do Projektu

Toto je uk√°zkov√° hlavn√≠ str√°nka dokumentace.

\`\`\`

**Vytvo≈ôte pros√≠m tyto soubory p≈ô√≠mo ve va≈°em GitHub repozit√°≈ôi, abyste vidƒõli, jak syst√©m funguje!**

`;
                
                // Zobrazit n√°vod v nov√©m oknƒõ
                const guideWindow = window.open("", "_blank");
                guideWindow.document.write(`<pre>${sampleFilesGuide}</pre>`);
                guideWindow.document.close();
                
                alert('Otev≈ôen n√°vod, jak ruƒçnƒõ vytvo≈ôit uk√°zkov√© MD soubory v GitHubu. Po vytvo≈ôen√≠ stisknƒõte "Ulo≈æit a Pokraƒçovat".');
            });
            // -------------------------------------------
        });
    </script>
</body>
</html>
